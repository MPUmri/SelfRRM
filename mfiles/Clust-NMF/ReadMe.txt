hierclust2nmf.m is the main function, performing the hierarchical clustering of hyperspectral images. (Note that is can also be applied to any other kind of data.) 

Run the file RunMe.m to have an example with the Urban dataset. 